@using Ninject.Activation
@model CourseProject.View_Models.ExerciseCreateViewModel

@{
    ViewBag.Title = @Resources.Resource.CreateExerciseTitleText;
}
@Styles.Render("~/Content/markdown/css")
@Scripts.Render("~/bundles/jqueryval")
@Scripts.Render("~/bundles/markdown")
@Scripts.Render("~/bundles/markdown_bootstrap")
@Scripts.Render("~/bundles/to_markdown")
@Scripts.Render("~/bundles/fileupload")


<script type="text/javascript" src="~/Scripts/Exercise/Create/markdown_settings.js"></script>
<style>

#Text {
    width: 400px;
}
</style>
<br/>
<div class="row">
    <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            <div class="row">
                <div class="col-md-1" align="center">
                    @Html.LabelFor(model => model.Name, new { htmlAttributes = new { @class = "control-label col-md-2" } })    
                </div>
                <div class="col-md-5">
                    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })    
                </div>
            </div>
        
            <div class="row">
                <div class="col-md-6">
                    <form>
                        <textarea name="Text" id="Text" data-provide="markdown" rows="5"></textarea>
                        <hr />
                        <button type="submit" class="btn">Submit</button>
                    </form>
                </div>

            </div>
            <div>
                <script>
                    $(function () {
                        $('#fileupload').fileupload({
                            dataType: 'json',
                            done: function (e, data) {
                                $.each(data.result.files, function (index, file) {
                                    $('<p/>').text(file.name).appendTo("div#file");
                                });
                            }
                        });
                    });
                </script>
                <input id="fileupload" type="file" name="files[]" data-url="" multiple>
            </div>


        }

    </div>
</div>
