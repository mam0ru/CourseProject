(function(){$(function(){var f,b,e,u,o,h,t,n,c,l,s,i,a,r,v,y,p,w;return i=function(){var n;return n=document.createElement("div"),n.className="row",n},n=function(){var n;return n=document.createElement("div"),n.className="col-md-4",n},s=function(n){var t;return t=document.createElement("input"),t.type="text",t.name=n,t},t=function(n,t){var i;return i=document.createElement("button"),i.name=n,i.innerText=t,i},a=function(){var o,u,f,e,r;return r=i(),e=s("Tag"),e.setAttribute("data-autocomplete-source","/Exercise/TagAutocompliteSearch"),f=n(),u=n(),f.appendChild(e),o=t("delete","Delete"),u.appendChild(o),r.appendChild(f),r.appendChild(u),$("#listOfTags").append(r),null},h=function(){var e,u,f,o,r;return r=i(),o=s("answer"),f=n(),u=n(),f.appendChild(o),e=t("delete","Delete"),u.appendChild(e),r.appendChild(f),r.appendChild(u),$("#listOfAnswers").append(r),null},u=null,l=function(r){var s,e,u,o,f;return f=i(),o=document.createElement("img"),o.src=r,u=n(),u.className="col-md-4 thumbnail",e=n(),u.appendChild(o),s=t("delete","Delete"),e.appendChild(s),f.appendChild(u),f.appendChild(e),f},c=function(r){var s,e,u,o,f;return f=i(),o=document.createElement("p"),o.innerHTML=r,u=n(),u.className="col-md-4",e=n(),u.appendChild(o),s=t("delete","Delete"),e.appendChild(s),f.appendChild(u),f.appendChild(e),f},r=null,window.onload=function(){return r=com.wiris.jsEditor.JsEditor.newInstance({language:"en"}),r.insertInto(document.getElementById("editorContainer")),window.editor=r},w=function(){return $("#imageupload").fileupload({url:"/Exercise/UploadImage",dataType:"json",add:function(n,t){return u=t},done:function(n,t){var i;return alert("file uploaded"),i=l(t.result.path),$("#listOfPictures").append(i)},fail:function(n,t){return alert("ERROR"),t.files[0].error?alert(t.files[0].error):void 0}})},b=[],e=[],o=[],f=[],y=function(){var n;return n=$("#listOfPictures > .row > .thumbnail > img"),$.each(n,function(n,t){return e.push(t.src)}),e},p=function(){var n;return(n=$("#listOfTags > .row > div > [name='Tag']"),n.length===0)?null:($.each(n,function(n,t){return o.push(t.value)}),o)},v=function(){var n;return n=$("#listOfAnswers > .row > div > [name='answer']"),$.each(n,function(n,t){return f.push(t.value)}),f},$(document).ready(function(){window.onload();$("#addFormula").on("click",function(n){var t;return n.stopPropagation(),n.preventDefault(),t=c(r.getMathML()),$("#listOfFormulas").append(t)});$(document).on("click","#addAnswer",function(n){return n.stopPropagation(),n.preventDefault(),h(),null});$(document).on("click","[name='delete']",function(n){var t,i;return n.stopPropagation(),n.preventDefault(),$(this).unbind(),t=$(this).parent(),i=t.parent(),i.remove(),null});$(document).on("click","#addTag",function(n){return n.stopPropagation(),n.preventDefault(),a(),$("[data-autocomplete-source]").each(function(){var n;return n=$(this),n.autocomplete({source:n.attr("data-autocomplete-source")})}),null});$("[data-autocomplete-source]").each(function(){var n;return n=$(this),n.autocomplete({source:n.attr("data-autocomplete-source")}),null});w();$(document).on("click","#Upload",function(n){return n.stopPropagation(),n.preventDefault(),u&&(alert("upload"),u.submit()),!1});$("#Submit").on("click",function(){var n,t,i;return alert("submit"),n=v(),t=y(),i=p(),$("input#Category").val($("select#Category").val()),$("input#Answers").val(n),$("input#Pictures").val(t),$("input#Tags").val(i)});return null})})}).call(this);
/*
//# sourceMappingURL=setting.min.js.map
*/